let onloadCallback,onCaptchaError,captchaInitCallBack;const form=document.getElementById("contactUs"),errorEl=document.getElementById("errorDiv"),errorTextEl=errorEl.querySelector("span"),successDiv=document.getElementById("form-success"),fileInput=document.getElementById("fileInput");function scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}function initForm(e){InitCaptchaCallbacks(e),window.addEventListener("load",function(){function a(e){errorTextEl.textContent=e,errorEl.removeAttribute("hidden"),scrollToTop()}form.addEventListener("submit",async function(t){if(t.preventDefault(),t.stopPropagation(),form.classList.add("was-validated"),!1===form.checkValidity())return void a(e.generalError);if(!e.skipCaptcha&&e.useGrecaptcha&&""===grecaptcha.getResponse())return void a(e.captchaError);let r=new FormData;r.append("FileUpload",form.fileInput.files[0]),r.append("token",e.token),r.append("productType",e.productType),r.append("name",form.nameInput.value),r.append("email",form.emailInput.value),r.append("subject",form.subjectInput.value),r.append("description",form.descriptionInput.value),r.append("queryType",form.queryInput.value),r.append("skipCaptcha",e.skipCaptcha),void 0!==e.uid&&r.append("uid",e.uid);e.skipCaptcha||(e.useGrecaptcha?r.append("g-Recaptcha-Response",grecaptcha.getResponse()):r.append("g-Recaptcha-Response",Captcha.getCaptchaData().userInput));let n=await fetch(e.url,{method:"POST",body:r}),o=await n.json();n.ok?o.Data.result?(successDiv.removeAttribute("hidden"),form.setAttribute("hidden","hidden"),scrollToTop()):(a(o.Data.error),form.classList.remove("was-validated")):a(e.generalError)}),fileInput.addEventListener("change",()=>{let e=fileInput.dataset.maxAllowedSize;fileInput.files[0]?fileInput.classList.add(fileInput.files[0].size>parseInt(e)?"is-invalid":"is-valid"):fileInput.classList.remove("is-valid","is-invalid")})})}function InitCaptchaCallbacks(e){onloadCallback=(()=>{e.useGrecaptcha&&grecaptcha.render("recaptcha",{sitekey:e.captchaKey,theme:e.theme})}),onCaptchaError=(a=>{errorTextEl.textContent=e.generalError,errorEl.removeAttribute("hidden"),scrollToTop()}),captchaInitCallBack=(()=>{Captcha.render("captchaDiv")}),window.captchaInitCallBack=captchaInitCallBack,window.onCaptchaError=onCaptchaError,window.onloadCallback=onloadCallback}