var KeyValueStore={get:function(e){throw"KeyValueStore.get() Not Implemented"},getBool:function(e,t){var o=this.get(e);return"boolean"==typeof o?o:"boolean"==typeof t&&t},getNumber:function(e){return this.get(e)},getDate:function(e){return this.get(e)},getJsonArray:function(e){var t=this.get(e);return void 0!==t?JSON.parse(t):[]},set:function(e,t){throw"KeyValueStore.set() Not Implemented"},setBool:function(e,t){this.set(e,!!t)},setIsRealMode:function(e){this.setBool(this.keys.IsRealMode,e)},setNumber:function(e,t){this.set(e,t)},setDate:function(e,t){this.set(e,t)},setJsonArray:function(e,t){var o=JSON.stringify(t);this.set(e,o)},remove:function(e){throw"KeyValueStore.remove() Not Implemented"}},CookieWrapper=function(){"use strict";return{write:function(e,t,o){$.cookie(e,t,$.extend({path:"/",expires:365},o||{}))},read:function(e){return $.cookie(e)},remove:function(e){$.removeCookie(e,{path:"/"})},exists:function(e){return!!$.cookie(e)}}}();!function(){"use strict";var e=function(){try{return window.localStorage.setItem("storage_test",1),window.localStorage.removeItem("storage_test"),!0}catch(e){return!1}}()?window.localStorage:function(){function e(e){e=JSON.stringify(e),CookieWrapper.write("localStorage",e)}var t,o=(t=CookieWrapper.read("localStorage"))?JSON.parse(t):{};return{getItem:function(e){return void 0===o[e]?null:o[e]},removeItem:function(t){delete o[t],e(o)},setItem:function(t,n){o[t]=n+"",e(o)}}}();$.extend(KeyValueStore,{get:function(t){var o=e.getItem(t);return null!==o&&"null"!==o?o:(o=CookieWrapper.read(t))?(CookieWrapper.remove(t),this.set(t,o),o):null},getBool:function(e,t){var o=this.get(e);return"boolean"==typeof o?o:"string"==typeof o?"true"===o.toLowerCase():"boolean"==typeof t&&t},getNumber:function(e){var t=this.get(e);return Number(t)},set:function(t,o){e.setItem(t,o)},remove:function(t){e.removeItem(t),$.removeCookie(t,{path:"/"})}})}(),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}(function(e){var t=/\+/g;function o(e){return i.raw?e:encodeURIComponent(e)}function n(e){return o(i.json?JSON.stringify(e):String(e))}function r(o,n){var r=i.raw?o:function(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(t," ")),i.json?JSON.parse(e):e}catch(e){}}(o);return e.isFunction(n)?n(r):r}var i=e.cookie=function(t,u,a){if(void 0!==u&&!e.isFunction(u)){if("number"==typeof(a=e.extend({},i.defaults,a)).expires){var s=a.expires,c=a.expires=new Date;c.setTime(+c+864e5*s)}return document.cookie=[o(t),"=",n(u),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}for(var f,p=t?void 0:{},l=document.cookie?document.cookie.split("; "):[],m=0,d=l.length;m<d;m++){var g=l[m].split("="),v=(f=g.shift(),i.raw?f:decodeURIComponent(f)),h=g.join("=");if(t&&t===v){p=r(h,u);break}t||void 0===(h=r(h))||(p[v]=h)}return p};i.defaults={},e.removeCookie=function(t,o){return void 0!==e.cookie(t)&&(e.cookie(t,"",e.extend({},o,{expires:-1})),!e.cookie(t))}});